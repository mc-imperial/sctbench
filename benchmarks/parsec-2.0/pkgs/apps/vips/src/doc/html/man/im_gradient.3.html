<!-- manual page source format generated by PolyglotMan v3.2, -->
<!-- available at http://polyglotman.sourceforge.net/ -->

<html>
<head>
<title>IM_COMPASS(3) manual page</title>
</head>
<body bgcolor='white'>
<a href='#toc'>Table of Contents</a><p>

<h2><a name='sect0' href='#toc0'>Name</a></h2>
im_compass, im_rank_image, im_maxvalue, im_lindetect, im_gradient -
extract features from an image with a rotating input mask 
<h2><a name='sect1' href='#toc1'>Synopsis</a></h2>
#include
&lt;vips/vips.h&gt; 
<p> int im_rank_image(in, out, n, index) <br>
IMAGE **in; <br>
IMAGE *out; <br>
int n; <br>
int index; 
<p> int im_maxvalue(in, out, n) <br>
IMAGE **in; <br>
IMAGE *out; <br>
int n; 
<p> int im_compass(in, out, mask) <br>
IMAGE *in, *out; <br>
INTMASK *mask; 
<p> int im_lindetect(in, out, mask) <br>
IMAGE *in, *out; <br>
INTMASK *mask; 
<p> int im_gradient(in, out, mask) <br>
IMAGE *in, *out; <br>
INTMASK *mask; 
<h2><a name='sect2' href='#toc2'>Description</a></h2>
<b>im_rank_image()</b> sorts the input images pixel-wise,
then outputs an image in which each pixel is selected from the sorted list
by the  <b>index</b> parameter. For example, if <b>index</b> is zero, then each output
pixel will be the minimum of all the corresponding input pixels.  It works
for any uncoded, non-complex image type. All input images must match in size,
format, and number of bands. 
<p> These functions convolve the image pointed
by the image descriptor in with the mask pointed by mask and put the result
in the image pointed by out. 
<p> The mask structure INTMASK is returned by
the function <a href='im_read_imask.3.html'>im_read_imask(3)</a>
, for integer mask only.  Input should be unsigned
char; processing is carried out using look-up tables. The output is integer.
 coefficients.  The size of the output image and the number of channels
are the same as the corresponding of the input. 
<p> If the sizes of the mask
are xm and ym and the sizes of the image are xs and ys, then there is a
black border at the output image as follows: 
<p> The top ym/2 lines black,
bottom ys-ym/2-ym lines black; each of the remaining lines has the initial
xm/2 pels blank, and the final xs-xm/2-xm pels black (division over 2 is
integer division). The output at each point is divided by scale and then
the offset is added. Both offset and scale are held in mask. 
<p> <b>im_maxvalue()</b>
is a convenience function: it is simply: 
<p>   im_rank_image( in, out, n,
n - 1 )<br>
 
<p> <b>im_compass()</b> convolves each point of the input byte image pointed by
in with 8 masks.  The first mask is the entered mask and the seven remaining
masks are produced by successive rotations of the entered mask by 45 degrees.
 The maximum output of all masks at each point is written to the output
integer IMAGE descriptor. The function expects as input a square mask of
odd size. 
<p> <b>im_lindetect()</b> convolves each point of the input byte image pointed
by in with 4 masks.  The first mask is the entered mask and the three remaining
masks are produced by successive rotations of the entered mask by 45 degrees.
 The maximum output of all masks at each point is written to the output
integer IMAGE descriptor. The function expects as input a square mask of
odd size. 
<p> <b>im_gradient()</b> convolves each point of the input byte image pointed
by in with 2 masks; the entered mask and with a 90 degrees rotation of
the  entered mask.  If g1, g2 are the result of each convolution then for
each point abs(g1) + abs(g2) is written to the output integer IMAGE descriptor.
The function expects as input a square mask of any size. 
<h2><a name='sect3' href='#toc3'>Return Value</a></h2>
All
functions returns 0 on success and -1 on error. 
<h2><a name='sect4' href='#toc4'>See&nbsp;Also</a></h2>
<a href='im_readmask.3.html'>im_readmask(3)</a>
, <a href='im_conv.3.html'>im_conv(3)</a>
.

<h2><a name='sect5' href='#toc5'>Copyright</a></h2>
<br>
N. Dessipris 
<h2><a name='sect6' href='#toc6'>Author</a></h2>
N. Dessipris - 02/05/1991  
<p> <p>

<hr><p>
<a name='toc'><b>Table of Contents</b></a><p>
<ul>
<li><a name='toc0' href='#sect0'>Name</a></li>
<li><a name='toc1' href='#sect1'>Synopsis</a></li>
<li><a name='toc2' href='#sect2'>Description</a></li>
<li><a name='toc3' href='#sect3'>Return Value</a></li>
<li><a name='toc4' href='#sect4'>SeeAlso</a></li>
<li><a name='toc5' href='#sect5'>Copyright</a></li>
<li><a name='toc6' href='#sect6'>Author</a></li>
</ul>
</body>
</html>
